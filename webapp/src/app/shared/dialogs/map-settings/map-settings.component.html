<div class="dialog-container" fxLayout="column">
	<h1 class="mat-headline">Map Settings</h1>

	<!--Map Size-->
	<div fxLayout="row" fxFlex="0 0 auto">
		<span fxFlexAlign="center" fxFlex="0 0 100px">Map Size:</span>
		<span fxFlexAlign="center">width: </span>
		<input type="number" class="default-input small-input" [(ngModel)]="settings.mapWidth">
		<span fxFlexAlign="center">height: </span>
		<input type="number" class="default-input small-input" [(ngModel)]="settings.mapHeight">
	</div>

	<hr>

	<!--Levels-->
	<div fxLayout="row" fxFlex="0 0 auto">
		<span fxFlex="0 0 100px">Levels: </span>
		<div fxLayout="column">
			<div fxLayout="row" *ngFor="let level of settings.levels; let i=index">
				<span fxFlexAlign="center">Level {{i}}:</span>
				<input class="default-input" [(ngModel)]="level.height">
				<button mat-button (click)="settings.levels.splice(i, 1)" tabindex="-1">Remove</button>
			</div>
			<div>
				<button mat-button (click)="settings.levels.push({height: 0})">Add Level</button>
			</div>
		</div>
	</div>

	<!--Master Level-->
	<hr>
	<div fxLayout="row" fxFlex="0 0 auto">
		<span fxFlexAlign="center">Master Level: </span>
		<!--<input type="number" class="default-input small-input" [(ngModel)]="settings.masterLevel">-->
		<mat-select class="material-input" [(ngModel)]="settings.masterLevel">
			<mat-option *ngFor="let level of settings.levels; let i=index" [value]="i">
				{{i}}
			</mat-option>
		</mat-select>
	</div>
	<hr>

	<!--Attributes-->
	<div fxLayout="column" fxFlex="0 0 auto">
		<div class="attribute" fxLayout="row">
			<span fxFlexAlign="center">cameraInBounds: </span>
			<mat-checkbox class="material-input" color="primary"
			             [(ngModel)]="settings.attributes.cameraInBounds"></mat-checkbox>
		</div>
		<div class="attribute" fxLayout="row">
			<span fxFlexAlign="center">saveMode: </span>
			<mat-select class="material-input weather-input" [(ngModel)]="settings.attributes.saveMode">
				<mat-option *ngFor="let saveModes of saveModeTypes;let i=index" [(value)]="saveModeTypes[i]">
					{{saveModes}}
				</mat-option>
			</mat-select>
		</div>
		<div class="attribute" fxLayout="row">
			<span fxFlexAlign="center">bgm: </span>
			<mat-select class="material-input weather-input" [(ngModel)]="settings.attributes.bgm">
				<mat-option *ngFor="let bgTrack of bgm" [(value)]="bgTrack.value"
																														 matTooltip="{{bgTrack.description}}">
					{{bgTrack.name}}
				</mat-option>
			</mat-select>
		</div>
		<div class="attribute" fxLayout="row">
			<span fxFlexAlign="center">map-sounds: </span>
			<mat-select class="material-input weather-input" [(ngModel)]="settings.attributes['map-sounds']">
				<mat-option *ngFor="let mapSound of mapSounds" [(value)]="mapSound.value"
																														 matTooltip="{{mapSound.description}}">
					{{mapSound.name}}
				</mat-option>
			</mat-select>
		</div>
		<div class="attribute" fxLayout="row">
			<span fxFlexAlign="center">mapStyle: </span>
			<mat-select class="material-input weather-input" [(ngModel)]="settings.attributes.mapStyle">
				<mat-option *ngFor="let mapStyle of mapStyles" [(value)]="mapStyle.value"
																														 matTooltip="{{mapStyle.description}}">
					{{mapStyle.name}}
				</mat-option>
			</mat-select>
		</div>
		<div class="attribute" fxLayout="row">
			<span fxFlexAlign="center">weather: </span>
			<mat-select class="material-input weather-input" [(ngModel)]="settings.attributes.weather">
				<mat-option *ngFor="let weatherType of weatherTypes" [(value)]="weatherType.value"
				                                                     matTooltip="{{weatherType.description}}">
					{{weatherType.name}}
				</mat-option>
			</mat-select>
		</div>
		<div class="attribute" fxLayout="row">
			<span fxFlexAlign="center">area: </span>
			<mat-select class="material-input weather-input" [(ngModel)]="settings.attributes.area">
				<mat-option *ngFor="let area of areas;let i=index" [(value)]="areas[i]">
					{{area}}
				</mat-option>
			</mat-select>
		</div>
		<div class="attribute" fxLayout="row">
			<span fxFlexAlign="center">npcRunnerType: </span>
			<mat-select class="material-input weather-input" [(ngModel)]="settings.attributes.npcRunners">
				<mat-option *ngFor="let npcRunnerType of npcRunnerTypes" [(value)]="npcRunnerType.value"
				                                                     matTooltip="{{npcRunnerType.description}}">
					{{npcRunnerType.name}}
				</mat-option>
			</mat-select>
		</div>
	</div>

	<!--Actions-->
	<div fxFlex="1 0 40px" fxLayoutAlign="end">
		<div fxFlexAlign="end" class="action-button-row">
			<button mat-button (click)="ref.close()">Cancel</button>
			<button mat-button (click)="update()">Update</button>
		</div>
	</div>

</div>
